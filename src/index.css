@tailwind base;
@tailwind components;
@tailwind utilities;

/* iOS Safe Area Support */
@supports (padding: env(safe-area-inset-top)) {
  body {
    padding-top: env(safe-area-inset-top);
    padding-bottom: env(safe-area-inset-bottom);
    padding-left: env(safe-area-inset-left);
    padding-right: env(safe-area-inset-right);
  }
}

/* Custom scrollbar - more refined */
::-webkit-scrollbar {
  width: 6px;
  height: 6px;
}

::-webkit-scrollbar-track {
  background: transparent;
}

::-webkit-scrollbar-thumb {
  background: rgba(0, 0, 0, 0.1);
  border-radius: 3px;
}

::-webkit-scrollbar-thumb:hover {
  background: rgba(0, 0, 0, 0.15);
}

/* Base styles with refined dark mode */
@layer base {
  body {
    @apply bg-surface-50 text-surface-900 transition-colors duration-300;
    font-family: -apple-system, BlinkMacSystemFont, "SF Pro Display", "SF Pro Text", system-ui, sans-serif;
    -webkit-font-smoothing: antialiased;
    -moz-osx-font-smoothing: grayscale;
  }

  /* Refined Dark Mode - Slate palette for depth */
  .dark body {
    @apply bg-slate-950 text-slate-50;
  }

  /* iOS tap highlight */
  * {
    -webkit-tap-highlight-color: transparent;
  }
}

/* Utility classes */
@layer components {
  .glass {
    @apply bg-white/70 backdrop-blur-xl border border-white/20 transition-colors duration-300;
  }

  .dark .glass {
    @apply bg-slate-900/70 border-white/10;
  }

  .nav-glass {
    background: linear-gradient(135deg, rgba(255,255,255,0.9) 0%, rgba(255,255,255,0.7) 100%);
    box-shadow: 0 8px 32px rgba(0,0,0,0.08), inset 0 1px 0 rgba(255,255,255,0.4);
  }

  .dark .nav-glass {
    background: linear-gradient(135deg, rgba(255,255,255,0.08) 0%, rgba(255,255,255,0.03) 100%);
    box-shadow: 0 8px 32px rgba(0,0,0,0.4), inset 0 1px 0 rgba(255,255,255,0.1);
  }

  .btn-press {
    @apply active:scale-95 transition-transform duration-ios-fast;
  }

  .safe-container {
    padding-top: env(safe-area-inset-top);
    padding-bottom: env(safe-area-inset-bottom);
    padding-left: env(safe-area-inset-left);
    padding-right: env(safe-area-inset-right);
  }

  .card-base {
    @apply bg-white/80 backdrop-blur-sm rounded-2xl shadow-soft-md border border-surface-100/50 transition-colors duration-300;
  }

  .dark .card-base {
    @apply bg-slate-900/80 border-white/10;
  }

  /* iOS-style list */
  .ios-list {
    @apply bg-white rounded-2xl overflow-hidden transition-colors duration-300;
  }

  .dark .ios-list {
    @apply bg-slate-900;
  }

  .ios-list-item {
    @apply px-4 py-3 border-b border-surface-100 last:border-0 transition-colors duration-300;
  }

  .dark .ios-list-item {
    @apply border-white/5;
  }

  /* iOS-style navigation */
  .ios-nav {
    @apply bg-white/80 backdrop-blur-xl border border-white/20 transition-colors duration-300;
  }

  .dark .ios-nav {
    @apply bg-slate-900/80 border-white/10;
  }

  /* iOS-style input with dark mode border */
  .ios-input {
    @apply bg-surface-50 border-2 border-transparent rounded-2xl px-4 py-3 outline-none transition-all duration-200;
  }

  .ios-input:focus {
    @apply border-primary-500 bg-white;
  }

  .dark .ios-input {
    @apply bg-slate-800 text-slate-50 placeholder:text-slate-500 border-white/5;
  }

  .dark .ios-input:focus {
    @apply bg-slate-700 border-primary-400;
  }

  /* Primary button with glow in dark mode */
  .btn-primary {
    @apply bg-gradient-to-r from-primary-500 to-accent-500 text-white;
  }

  .dark .btn-primary {
    box-shadow: 0 0 40px -10px rgb(14 165 233 / 0.2);
  }
}

/* Dark mode specific utilities with Slate palette */
@layer utilities {
  .text-gradient {
    @apply bg-gradient-to-r from-primary-500 to-accent-500 bg-clip-text text-transparent;
  }

  .bg-gradient-primary {
    @apply bg-gradient-to-br from-primary-600 via-primary-500 to-accent-500;
  }

  .dark .bg-gradient-primary {
    @apply from-primary-700 via-primary-600 to-accent-600;
  }

  /* Dark mode text hierarchy - Slate colors */
  .dark .text-heading {
    @apply text-slate-50;
  }

  .dark .text-secondary {
    @apply text-slate-400;
  }

  .dark .text-tertiary {
    @apply text-slate-500;
  }

  .dark .bg-card {
    @apply bg-slate-900 border-white/10;
  }

  .dark .bg-elevated {
    @apply bg-slate-800 border-white/5;
  }
}
